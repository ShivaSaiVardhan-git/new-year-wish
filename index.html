<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body>

<canvas id="fireworks"></canvas>

<audio id="music" loop muted>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9eaf0f27f2.mp3" type="audio/mpeg">
</audio>

<div class="scene">
  <div id="text" class="text"></div>
  <div class="hint">Tap anywhere ‚ú®</div>
</div>

<script>
/* ===== SCENES ===== */
const scenes = [
  "‚ú® A new year begins‚Ä¶",
  "üéÜ With hope in every spark",
  "ü§ç Grateful for the warmth<br>with which you welcomed us",
  "üå∏ Warm New Year wishes from<br><strong>Reethamshi Family</strong>",
  "‚ú® To Rakesh & his family<br><br>Happy New Year 2026"
];

let index = 0;
let locked = false;

const textEl = document.getElementById("text");
const music = document.getElementById("music");

textEl.innerHTML = scenes[index];
setTimeout(() => textEl.classList.add("show"), 300);

document.body.addEventListener("click", (e) => {
  if (locked) return;

  /* Enable music */
  if (music.muted) {
    music.muted = false;
    music.play();
  }

  /* Firework at tap */
  if (window.burstAt) {
    burstAt(e.clientX, e.clientY);
  }

  /* Blur reveal logic */
  if (index === 2 && textEl.classList.contains("blur")) {
    textEl.classList.remove("blur");
    return;
  }

  index++;
  if (index < scenes.length) {
    textEl.classList.remove("show");
    setTimeout(() => {
      textEl.innerHTML = scenes[index];
      textEl.classList.add("show");

      if (index === 2) {
        textEl.classList.add("blur");
      }

      /* Final scene */
      if (index === scenes.length - 1) {
        if (window.finalBurst) finalBurst();
        locked = true;
        document.querySelector(".hint").innerText = "‚ú® This wish stays ‚ú®";
      }
    }, 300);
  }
});
</script>

<script src="fireworks.js"></script>

</body>
</html>
