<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- BACKGROUND -->
<div class="bg"></div>

<!-- FIREWORKS -->
<canvas id="fireworks"></canvas>

<!-- MUSIC -->
<audio id="music" loop muted>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9eaf0f27f2.mp3" type="audio/mpeg">
</audio>

<!-- CONTENT -->
<div class="scene">
  <div id="text" class="text"></div>
  <div class="hint">Tap anywhere ✨</div>
</div>

<script src="fireworks.js"></script>

<script>
const scenes = [
  "A new year begins…",
  "Every spark carries a wish",
  "Grateful for the warmth<br>with which you welcomed us",
  "Warm wishes from<br>Reethamshi Family",
  "To Rakesh & his family<br><br>Happy New Year 2026"
];

let i = 0;
let locked = false;
const text = document.getElementById("text");
const music = document.getElementById("music");

text.innerHTML = scenes[i];
text.classList.add("show");

document.body.addEventListener("click", (e) => {
  if (locked) return;

  if (music.muted) {
    music.muted = false;
    music.play();
  }

  if (window.burstAt) burstAt(e.clientX, e.clientY);

  if (i === 2 && text.classList.contains("blur")) {
    text.classList.remove("blur");
    return;
  }

  i++;
  if (i < scenes.length) {
    text.classList.remove("show");
    setTimeout(() => {
      text.innerHTML = scenes[i];
      text.classList.add("show");
      if (i === 2) text.classList.add("blur");
      if (i === scenes.length - 1) {
        finalBurst();
        locked = true;
        document.querySelector(".hint").innerText = "✨ This wish stays ✨";
      }
    }, 400);
  }
});
</script>

</body>
</html>
